name: Review Bot Hello

on:
  issue_comment:
    types: [created] # ì½”ë©˜íŠ¸ê°€ ìƒˆë¡œ ë‹¬ë ¸ì„ ë•Œë§Œ ì‹¤í–‰

permissions:
  pull-requests: write # PRì— ëŒ“ê¸€ì„ ë‹¬ ê¶Œí•œ
  issues: write        # (GitHub ë‚´ë¶€ì ìœ¼ë¡œ PR ëŒ“ê¸€ë„ ì´ìŠˆ ê¶Œí•œì´ í•„ìš”í•  ìˆ˜ ìˆìŒ)

jobs:
  hello-reply:
    # 1. PRì— ë‹¬ë¦° ëŒ“ê¸€ì´ë©´ì„œ
    # 2. ë‚´ìš©ì— '@review-bot'ì´ í¬í•¨ë˜ì–´ ìˆì„ ë•Œë§Œ ì‹¤í–‰
    if: github.event.issue.pull_request && contains(github.event.comment.body, '@review-bot')
    
    runs-on: ubuntu-latest
    steps:
      - name: Reply to PR
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }} # ë³„ë„ ì„¤ì • ì—†ì´ ê¸°ë³¸ ì œê³µë˜ëŠ” í† í°
          PR_NUMBER: ${{ github.event.issue.number }}
        run: |
          # gh CLIë¥¼ ì‚¬ìš©í•´ ëŒ“ê¸€ ë‹¬ê¸°
          gh issue comment $PR_NUMBER --body "ì•ˆë…•í•˜ì„¸ìš” ë¦¬ë·°ë´‡ì…ë‹ˆë‹¤. ğŸ¤– (í˜¸ì¶œ í™•ì¸ ì™„ë£Œ!)"
