name: Review Bot Hello (Reusable)

on:
  workflow_call:
    inputs:
      mention:
        description: "Trigger mention text in comment"
        type: string
        required: false
        default: "@review-bot"
      reply:
        description: "Reply message to post on the PR"
        type: string
        required: false
        default: "ì•ˆë…•í•˜ì„¸ìš” ë¦¬ë·°ë´‡ì…ë‹ˆë‹¤. ğŸ¤– (í˜¸ì¶œ í™•ì¸ ì™„ë£Œ!)"

permissions:
  issues: write
  pull-requests: read

jobs:
  hello-reply:
    # PRì— ë‹¬ë¦° issue_comment ì´ë©´ì„œ, ì§€ì • ë©˜ì…˜ì´ í¬í•¨ëœ ê²½ìš°ë§Œ ì‹¤í–‰
    if: ${{ github.event.issue.pull_request && contains(github.event.comment.body, inputs.mention) }}
    runs-on: ubuntu-latest

    steps:
      - name: Reply to PR (issue)
        env:
          GH_TOKEN: ${{ github.token }} # gh CLI ì¸ì¦ìš©
          PR_NUMBER: ${{ github.event.issue.number }} # PR ë²ˆí˜¸ (issue numberì™€ ë™ì¼)
          REPO: ${{ github.repository }} # owner/repo
        run: |
          gh issue comment "$PR_NUMBER" --repo "$REPO" --body "${{ inputs.reply }}"
